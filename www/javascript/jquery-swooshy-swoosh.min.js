(function(c){c.fn.touchwipe=function(d){var a={min_move_x:20,min_move_y:20,wipeLeft:function(){},wipeRight:function(){},wipeUp:function(){},wipeDown:function(){},preventDefaultEvents:true};d&&c.extend(a,d);this.each(function(){function e(){this.removeEventListener("touchmove",f);g=null;h=false}function f(b){a.preventDefaultEvents&&b.preventDefault();if(h){var i=g-b.touches[0].pageX;b=j-b.touches[0].pageY;if(Math.abs(i)>=a.min_move_x){e();i>0?a.wipeLeft():a.wipeRight()}else if(Math.abs(b)>=a.min_move_y){e();
b>0?a.wipeDown():a.wipeUp()}}}function k(b){if(b.touches.length==1){g=b.touches[0].pageX;j=b.touches[0].pageY;h=true;this.addEventListener("touchmove",f,false)}}var g,j,h=false;"ontouchstart"in document.documentElement&&this.addEventListener("touchstart",k,false)});return this}})(jQuery);(function(c){jQuery.shake=function(d){var a=jQuery.extend({},jQuery.shake.defaults,d);if(a.debug!==""){d=c(a.debug);d.append('x: <span id="x">0</span><br>');d.append('y: <span id="y">0</span><br>');d.append('z: <span id="z">0</span><br><br>');d.append('shake: <span id="shake">0</span><br>');d.append('shakeaccum: <span id="shakeaccum"></span><br>');d.append('debug: <span id="console"></span><br>')}var e=0,f=0,k=0,g=0,j=0,h=0,b=0,i=0,n=new Date,o=new Date,m=false;if(window.DeviceMotionEvent===undefined)a.supported!==
""&&c(a.supported).html("Your browser does not support Device Orientation and Motion API. Try it on an iPhone, iPod or iPad with iOS 4.2+.");else window.ondevicemotion=function(l){l=l.accelerationIncludingGravity;e=l.x;k=f=l.y;g=e-(e*a.hf+g*(1-a.hf));j=f-(f*a.hf+j*(1-a.hf));h=k-(k*a.hf+h*(1-a.hf));if(Math.abs(e-2*g)>a.violence*1.5||Math.abs(f-2*j)>a.violence*2||Math.abs(k-2*h)>a.violence*3&&m===false)i+=1;n=new Date;l=n.getTime()-o.getTime();c("#console").html(l);if(m){m=l>=a.debounce?false:true;
i=0}if(i>=a.shakethreshold&&m===false){b+=1;c("#shake").html(b);o=n;m=true;a.callback.call()}};a.debug!==""&&setInterval(function(){c("#x").html(Math.abs(e-2*g).toFixed(1));c("#y").html(Math.abs(f-2*j).toFixed(1));c("#z").html(Math.abs(k-2*h).toFixed(1));c("#shakeaccum").html(i)},10)}})(jQuery);jQuery.shake.defaults={debug:"",supported:"",violence:3,hf:0.2,shakethreshold:5,debounce:1E3,callback:function(){}};
