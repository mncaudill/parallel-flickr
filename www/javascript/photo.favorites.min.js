var symbols_faved="\u2605",symbols_notfaved="\u2606";function photo_favorites_add(a){if(can_fave){parallel_flickr_api_call(methods,{photo_id:a},function(d){photo_favorites_toggle_html(d.photo_id,1)});photo_favorites_toggle_html_api(a)}else{var b=location.host,c=location.href.split("#")[0];c=c.replace("http://","");c=c.replace(b,"");c+="#"+a;flickr_auth_dialog_request_write_perms("fave",c)}}
function photo_favorites_remove(a){parallel_flickr_api_call(methods,{photo_id:a},function(b){photo_favorites_toggle_html(b.photo_id,0)});photo_favorites_toggle_html_api(a)}function photo_favorites_generate_html(a,b){var c=photo_favorites_uid(a),d=photo_favorites_symbol(a,b),e=photo_favorites_onclick(a,b),f=photo_favorites_title(a,b),g=photo_favorites_classname(a,b);c='<a href="#" id="'+c+'" onclick="'+e+'" title="'+f+'" class="'+g+'">';c+=d;c+="</a>";return c}
function photo_favorites_toggle_html_api(a){a=photo_favorites_selector(a);a=$(a);a.html("...");a.attr("onclick","return false;");a.attr("title","talking to the sky");a.attr("class","")}function photo_favorites_toggle_html(a,b){var c=photo_favorites_selector(a),d=photo_favorites_symbol(a,b),e=photo_favorites_onclick(a,b),f=photo_favorites_title(a,b),g=photo_favorites_classname(a,b);c=$(c);c.html(d);c.attr("onclick",e);c.attr("title",f);c.attr("class",g)}
function photo_favorites_symbol(a,b){return b?symbols_faved:symbols_notfaved}function photo_favorites_onclick(a,b){return(b?"photo_favorites_remove":"photo_favorites_add")+"("+a+"); return false;"}function photo_favorites_title(a,b){return b?"remove as favourite":"add as favourite"}function photo_favorites_classname(a,b){return b?"photo_faved":"photo_notfaved"}function photo_favorites_uid(a){return"photo_favorites_"+a}function photo_favorites_selector(a){return"#"+photo_favorites_uid(a)};
